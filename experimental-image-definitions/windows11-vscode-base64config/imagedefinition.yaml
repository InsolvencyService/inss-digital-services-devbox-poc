# Windows 11 with Visual Studio Code
# This DSC is encoded in base64 and included inline in the imagedefinition.yaml
# This successfully deploys to the devbox instance and is decoded into C:\WinGetConfig\VSInstallAndConfig.dsc.yaml 
# *** However it does not execute therefore vscode is not installed. ***

$schema: 1.0
name: windows11-vscode-base64config
image: microsoftwindowsdesktop_windows-ent-cpc_win11-24h2-ent-cpc
tasks:
  - name: ~/winget
    description: "Install Visual Studio Code"
    parameters:
      inlineConfigurationBase64: "cHJvcGVydGllczoKICBjb25maWd1cmF0aW9uVmVyc2lvbjogMC4yLjAKCiAgcmVzb3VyY2VzOgogICAgLSByZXNvdXJjZTogTWljcm9zb2Z0LldpbmdldC5EU0MvV2luZ2V0UGFja2FnZQogICAgICBkaXJlY3RpdmVzOgogICAgICAgIGRlc2NyaXB0aW9uOiBJbnN0YWxsIFZpc3VhbCBTdHVkaW8gQ29kZQogICAgICAgIGFsbG93UHJlcmVsZWFzZTogdHJ1ZQogICAgICBzZXR0aW5nczoKICAgICAgICBpZDogTWljcm9zb2Z0LlZpc3VhbFN0dWRpb0NvZGUK"
      configurationFile: 'C:\WinGetConfig\VSInstallAndConfig.dsc.yaml'
    